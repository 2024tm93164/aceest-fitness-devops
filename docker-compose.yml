 # --- MINIKUBE ACCESS MOUNTS (CRITICAL FOR KUBECTL) ---
  # Mount the .kube folder (contains the config file)
  # NOTE: Ensure 'Kishore Kumar' matches your actual Windows user name exactly.
  - C:/Users/Kishore Kumar/.kube:/var/jenkins_home/.kube
  # Mount the .minikube folder (contains the certificates/keys referenced in the config)
  - C:/Users/Kishore Kumar/.minikube:/var/jenkins_home/.minikube
  # ----------------------------------------------------
  
environment:
  # Use a higher memory limit to prevent out-of-memory exits on startup
  - JAVA_OPTS=-Xmx2048m
  
# Ensures the container restarts automatically upon failure or clean shutdown
restart: always 

# Guaranteed resource allocation
deploy:
  resources:
    limits:
      memory: 4096m # Guarantee 4GB of RAM for Jenkins startup
      cpus: '2.0'   # Guarantee 2 CPUs